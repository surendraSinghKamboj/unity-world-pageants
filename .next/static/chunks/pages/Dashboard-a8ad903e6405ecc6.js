(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{1720:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard",function(){return s(7198)}])},2289:function(e,t,s){"use strict";var a=s(5893),l=s(6154),n=s(1664),r=s.n(n),c=s(1163);s(7294);let i=()=>{let{push:e}=(0,c.useRouter)(),t=async()=>{try{let t=await l.Z.get("/api/admin/loginAuth");t.data.status&&e("/admin")}catch(e){console.log(e)}};return(0,a.jsxs)("nav",{className:"w-full z-50 p-2 flex items-center sticky top-0 bg-[#350200] justify-around",children:[(0,a.jsx)(r(),{href:"/Dashboard",children:(0,a.jsx)("h3",{className:"text-white text-xl",children:"UWP admin"})}),(0,a.jsxs)("ul",{className:"flex justify-start gap-3 text-white items center",children:[(0,a.jsx)(r(),{href:"/Dashboard/contestents",children:(0,a.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Contestants"})}),(0,a.jsx)(r(),{href:"/Dashboard/addcontestents",children:(0,a.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Add contestents"})}),(0,a.jsx)(r(),{href:"/Dashboard/votes",children:(0,a.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Votes"})}),(0,a.jsx)("button",{className:"border-2 px-2 bg-red-600 text-white rounded-lg",onClick:t,children:"Logout"})]})]})};t.Z=i},8211:function(e,t,s){"use strict";var a=s(5893),l=s(6154),n=s(1664),r=s.n(n),c=s(1163),i=s(7294);let o=e=>{let{data:t}=e,{reload:s}=(0,c.useRouter)(),[n,o]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),{name:u,image:x,_id:f}=t,j=async e=>{try{let t=await l.Z.delete("/api/contestents/delete?id=".concat(e));t&&(h(!1),o(""),s())}catch(e){console.log(e)}};return(0,a.jsxs)("div",{className:"w-52 h-96 bg-[#350200] px-2 pt-2 rounded-xl",children:[d?(0,a.jsxs)("div",{className:"w-[400px] h-[300px] justify-center rounded-xl items-center flex flex-col fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] bg-slate-700",children:[(0,a.jsx)("h3",{className:"text-white mt-8",children:"Are you sure ?"}),(0,a.jsxs)("div",{className:"flex justify-evenly mt-20 w-full",children:[(0,a.jsx)("button",{className:"w-14 py-1 hover:opacity-80 rounded-lg bg-green-600",onClick:()=>{o(""),h(!1)},children:"No"}),(0,a.jsx)("button",{className:"w-14 py-1 hover:opacity-80 rounded-lg bg-red-600",onClick:()=>j(n),children:"Yes"})]})]}):null,(0,a.jsx)("img",{src:x,alt:u,className:"rounded-t-xl"}),(0,a.jsx)("h3",{className:"text-white text-center",children:u}),(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsx)(r(),{href:"/Dashboard/updateContestants/".concat(f),children:(0,a.jsx)("button",{className:"text-white rounded-xl border-2 bg-green-800 border-white hover:opacity-80 w-20 mt-2",children:"Update"})})}),(0,a.jsx)("div",{className:"w-full flex justify-center",children:(0,a.jsx)("button",{onClick:()=>{o(f),h(!0)},className:"text-white rounded-xl border-2 bg-red-800 border-white hover:opacity-80 w-20 mt-2",children:"Delete"})})]})};t.Z=o},7198:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(5893),l=s(2289),n=s(8211),r=s(7294),c=s(6154);let i=()=>{let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=async()=>{try{let e=await c.Z.get("/api/settings/voting");e&&t(e.data.status)}catch(e){console.log("failed to fetch settings",e)}};e()},[s]);let n=async()=>{try{let e=await c.Z.post("/api/settings/voting",{});e&&l(Math.random())}catch(e){console.log("failed",e)}};return(0,a.jsx)("div",{className:"w-52",children:(0,a.jsxs)("div",{className:"flex justify-center items-center",children:[(0,a.jsx)("h3",{children:"Voting"}),(0,a.jsx)("div",{onClick:()=>n(),className:"relative w-12 cursor-pointer bg-slate-400 rounded-xl h-4 mx-2",children:(0,a.jsx)("div",{className:"absolute ".concat(e?"left-[32px] bg-green-600":"left-0 bg-red-600"," h-4 w-4 scale-110 rounded-full transition-all duration-500")})})]})})};var o=s(685);let d=()=>{let[e,t]=(0,r.useState)([]),s=async()=>{try{let e=await c.Z.get("/api/contestents/toClient");e&&t(e.data)}catch(e){console.log(e)}};return(0,r.useEffect)(()=>{s()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)(o.E.div,{children:[(0,a.jsx)("h3",{className:"text-center",children:"Dashboard"}),(0,a.jsxs)("div",{className:" flex gap-5 justify-around flex-col-reverse md:flex-row",children:[(0,a.jsx)("div",{className:"flex gap-2 flex-wrap w-[90%] m-auto mt-3",children:e&&e.map((e,t)=>(0,a.jsx)(n.Z,{data:e},t))}),(0,a.jsx)("div",{className:"bg-slate-200",children:(0,a.jsx)(i,{})})]})]})]})};var h=d},1163:function(e,t,s){e.exports=s(6885)}},function(e){e.O(0,[470,685,774,888,179],function(){return e(e.s=1720)}),_N_E=e.O()}]);