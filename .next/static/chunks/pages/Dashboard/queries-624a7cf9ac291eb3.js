(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{2404:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/queries",function(){return r(3457)}])},2289:function(e,t,r){"use strict";var s=r(5893),l=r(6154),n=r(1664),a=r.n(n),o=r(1163);r(7294);let c=()=>{let{push:e}=(0,o.useRouter)(),t=async()=>{try{let t=await l.Z.get("/api/admin/loginAuth");t.data.status&&e("/admin")}catch(e){console.log(e)}};return(0,s.jsxs)("nav",{className:"w-full z-50 p-2 flex items-center sticky top-0 bg-[#350200] justify-around",children:[(0,s.jsx)(a(),{href:"/Dashboard",children:(0,s.jsx)("h3",{className:"text-white text-xl",children:"UWP admin"})}),(0,s.jsxs)("ul",{className:"flex justify-start gap-3 text-white items center",children:[(0,s.jsx)(a(),{href:"/Dashboard/contestents",children:(0,s.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Contestants"})}),(0,s.jsx)(a(),{href:"/Dashboard/addcontestents",children:(0,s.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Add contestents"})}),(0,s.jsx)(a(),{href:"/Dashboard/votes",children:(0,s.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Votes"})}),(0,s.jsx)("button",{className:"border-2 px-2 bg-red-600 text-white rounded-lg",onClick:t,children:"Logout"})]})]})};t.Z=c},3457:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var s=r(5893),l=r(2289),n=r(7294),a=r(8193),o=r(9327),c=r(685),i=r(6154);let d=e=>{let{id:t,name:r,email:l,mobile:d,message:u,resolved:h,query:x}=e,[p,m]=(0,n.useState)(!1),f=async e=>{console.log(e);try{let t=await i.Z.delete("/api/queries/deleteHandler",{data:{id:e}});t&&x(Math.random())}catch(e){console.log("failed deletion....")}},j=async e=>{try{let t=await i.Z.put("/api/queries/update",{id:e},{headers:{"resolve-type":h}});t&&x(Math.random())}catch(e){console.error("failed to update")}};return(0,s.jsxs)("div",{style:{backgroundImage:h?"url(/bgtrue.jpg)":"url(/bgQueryCard.jpg)"},className:"w-[400px] px-2 py-3 m-3 text-white h-[200px] relative transition-all duration-300 hover:shadow-2xl hover:".concat(h?"shadow-blue-900":"shadow-red-800"," rounded-2xl"),children:[(0,s.jsxs)("div",{className:"flex justify-start items-center",children:[(0,s.jsx)("h3",{className:"text-xl w-[100px]",children:"Name"}),(0,s.jsx)("p",{children:r})]}),(0,s.jsxs)("div",{className:"flex justify-start items-center",children:[(0,s.jsx)("h3",{className:"text-xl w-[100px]",children:"Email"}),(0,s.jsx)("a",{href:"mailto:".concat(l),children:(0,s.jsx)("p",{children:l})})]}),(0,s.jsxs)("div",{className:"flex justify-start items-center",children:[(0,s.jsx)("h3",{className:"text-xl w-[100px]",children:"Mobile"}),(0,s.jsx)("a",{href:"tel:".concat(d),children:(0,s.jsx)("p",{children:d})})]}),(0,s.jsx)("button",{onClick:()=>m(!p),className:"border-2 border-white  px-2 hover:opacity-80 active:opacity-50 rounded-xl m-2",children:"View Message"}),p?(0,s.jsxs)(c.E.div,{initial:{rotateY:180,rotateZ:180},animate:{rotateY:0,rotateZ:0},className:"absolute rounded-2xl ".concat(h?"bg-blue-950":"bg-[#350200]"," w-[400px] h-[200px] p-3 top-0 left-0"),children:[(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(a.oHP,{className:"text-right cursor-pointer bg-yellow-700 rounded-full ",onClick:()=>m(!1)}),(0,s.jsx)(o.DqJ,{className:"text-right cursor-pointer bg-green-700 rounded-full ",onClick:()=>j(t)}),h?(0,s.jsx)(a.VPh,{className:"text-right cursor-pointer bg-red-700 rounded-full ",onClick:()=>f(t)}):null]}),(0,s.jsx)("p",{children:u})]}):null]})},u=e=>{let{data:t,query:r}=e;return(0,s.jsx)("div",{className:"flex justify-center flex-wrap items-center",children:0!==t.length?t.map(e=>{let{_id:t,name:l,email:n,mobile:a,message:o,resolved:c}=e;return(0,s.jsx)(d,{id:t,name:l,email:n,mobile:a,message:o,resolved:c,query:r},t)}):(0,s.jsx)("h3",{className:"text-black mt-14",children:"There is no any query..."})})},h=()=>{let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(1),[o,c]=(0,n.useState)("new");return(0,n.useEffect)(()=>{let e=async()=>{try{let e=await i.Z.get("/api/queries/getQuery",{headers:{"query-type":o}});e&&t(e.data.result)}catch(e){console.error("error 404 Please Connect internet")}};e()},[r,o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)("div",{className:"w-full py-2 bg-[#350200] my-2",children:(0,s.jsx)("h3",{className:"text-white text-xl text-center",children:"Queries"})}),(0,s.jsxs)("div",{className:"flex justify-evenly items-center",children:[(0,s.jsx)("button",{className:"px-2 border-2 ".concat("new"===o?"bg-blue-700":"bg-red-700"," text-white rounded-xl hover:opacity-80"),onClick:()=>c("new"),children:"Unresolved"}),(0,s.jsx)("button",{className:"px-2 border-2 ".concat("resolved"===o?"bg-blue-700":"bg-red-700"," text-white rounded-xl hover:opacity-80"),onClick:()=>c("resolved"),children:"Resolved"}),(0,s.jsx)("button",{className:"px-2 border-2 ".concat("all"===o?"bg-blue-700":"bg-red-700"," text-white rounded-xl hover:opacity-80"),onClick:()=>c("all"),children:"All Queries"})]}),(0,s.jsx)(u,{data:e,query:a})]})};var x=h},1163:function(e,t,r){e.exports=r(6885)},8357:function(e,t,r){"use strict";r.d(t,{w_:function(){return c}});var s=r(7294),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(l),a=function(){return(a=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>t.indexOf(s)&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)0>t.indexOf(s[l])&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r};function c(e){return function(t){return s.createElement(i,a({attr:a({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return s.createElement(t.tag,a({key:r},t.attr),e(t.child))})}(e.child))}}function i(e){var t=function(t){var r,l=e.attr,n=e.size,c=e.title,i=o(e,["attr","size","title"]),d=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,i,{className:r,style:a(a({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&s.createElement("title",null,c),e.children)};return void 0!==n?s.createElement(n.Consumer,null,function(e){return t(e)}):t(l)}}},function(e){e.O(0,[617,90,470,685,774,888,179],function(){return e(e.s=2404)}),_N_E=e.O()}]);