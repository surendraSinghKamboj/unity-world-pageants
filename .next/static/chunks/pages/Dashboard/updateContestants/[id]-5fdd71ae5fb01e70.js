(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{4482:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Dashboard/updateContestants/[id]",function(){return a(4723)}])},2289:function(e,t,a){"use strict";var r=a(5893),n=a(6154),s=a(1664),l=a.n(s),i=a(1163);a(7294);let o=()=>{let{push:e}=(0,i.useRouter)(),t=async()=>{try{let t=await n.Z.get("/api/admin/loginAuth");t.data.status&&e("/admin")}catch(e){console.log(e)}};return(0,r.jsxs)("nav",{className:"w-full z-50 p-2 flex items-center sticky top-0 bg-[#350200] justify-around",children:[(0,r.jsx)(l(),{href:"/Dashboard",children:(0,r.jsx)("h3",{className:"text-white text-xl",children:"UWP admin"})}),(0,r.jsxs)("ul",{className:"flex justify-start gap-3 text-white items center",children:[(0,r.jsx)(l(),{href:"/Dashboard/contestents",children:(0,r.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Contestants"})}),(0,r.jsx)(l(),{href:"/Dashboard/addcontestents",children:(0,r.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Add contestents"})}),(0,r.jsx)(l(),{href:"/Dashboard/votes",children:(0,r.jsx)("li",{className:"cursor-pointer hover:opacity-80",children:"Votes"})}),(0,r.jsx)("button",{className:"border-2 px-2 bg-red-600 text-white rounded-lg",onClick:t,children:"Logout"})]})]})};t.Z=o},9747:function(e,t,a){"use strict";var r=a(5893),n=a(7294),s=a(8193),l=a(1649),i=a(4875);let o=e=>{let{fetched:t}=e,a=(0,l.v9)(e=>e.updateImages),{imgOne:o,imgTwo:c,imgThree:d}=a,h=(0,l.I0)();(0,n.useEffect)(()=>{t&&(h((0,i.nK)(["imgOne",t[0]])),h((0,i.nK)(["imgTwo",t[1]])),h((0,i.nK)(["imgThree",t[2]])))},[h,t]);let u=async e=>{if("fileOne"===e.target.name){let t=e.target.files[0],a=new FileReader;a.onloadend=()=>{h((0,i.nK)(["imgOne",a.result]))},t&&a.readAsDataURL(t)}if("fileTwo"===e.target.name){let t=e.target.files[0],a=new FileReader;a.onloadend=()=>{h((0,i.nK)(["imgTwo",a.result]))},t&&a.readAsDataURL(t)}if("fileThree"===e.target.name){let t=e.target.files[0],a=new FileReader;a.onloadend=()=>{h((0,i.nK)(["imgThree",a.result]))},t&&a.readAsDataURL(t)}};return(0,r.jsxs)("div",{className:"flex justify-center items-center gap-3 my-3",children:[(0,r.jsx)("label",{htmlFor:"fileUploadOne",className:" flex justify-start  text-left",children:(0,r.jsx)("div",{className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400",children:o?(0,r.jsx)("img",{alt:"img",src:o,className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.IEK,{className:"text-3xl"}),(0,r.jsx)("p",{className:"hidden md:inline",children:"Upload Image"})]})})}),(0,r.jsx)("input",{onChange:u,type:"file",name:"fileOne",id:"fileUploadOne",className:"hidden"}),(0,r.jsx)("label",{htmlFor:"fileUploadTwo",className:" flex justify-start  text-left",children:(0,r.jsx)("div",{className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400",children:c?(0,r.jsx)("img",{alt:"img",src:c,className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.IEK,{className:"text-3xl"}),(0,r.jsx)("p",{className:"hidden md:inline",children:"Upload Image"})]})})}),(0,r.jsx)("input",{onChange:u,type:"file",name:"fileTwo",id:"fileUploadTwo",className:"hidden"}),(0,r.jsx)("label",{htmlFor:"fileUploadThree",className:" flex justify-start  text-left",children:(0,r.jsx)("div",{className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400",children:d?(0,r.jsx)("img",{alt:"img",src:d,className:"md:w-36 w-20 flex justify-center items-center flex-col rounded-3xl cursor-pointer h-20 md:h-36 bg-slate-400"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.IEK,{className:"text-3xl"}),(0,r.jsx)("p",{className:"hidden md:inline",children:"Upload Image"})]})})}),(0,r.jsx)("input",{onChange:u,type:"file",name:"fileThree",id:"fileUploadThree",className:"hidden"})]})};t.Z=o},4723:function(e,t,a){"use strict";a.r(t);var r=a(5893),n=a(1163),s=a(7294),l=a(6154),i=a(9747),o=a(1649),c=a(9008),d=a.n(c),h=a(2289);let u=()=>{(0,o.I0)();let{imgOne:e,imgTwo:t,imgThree:a}=(0,o.v9)(e=>e.updateImages),c=(0,n.useRouter)(),[u,m]=(0,s.useState)({}),[p,f]=(0,s.useState)(),[x,g]=(0,s.useState)();console.log(u),(0,s.useEffect)(()=>{let e=async e=>{try{let t=await l.Z.get("/api/contestents/getOneContestant?id=".concat(e));t&&(m(t.data.response),g(t.data.response.awards),f(t.data.response.hobbies))}catch(e){console.error(e)}};e(c.query.id)},[c.query.id]),(0,s.useEffect)(()=>{p&&m({...u,hobbies:p.join(", ")})},[p]),(0,s.useEffect)(()=>{x&&m({...u,awards:x.join(", ")})},[x]);let y=e=>{m({...u,[e.target.name]:e.target.value})},j=async()=>{let{hobbies:r}=u.hobbies,{awards:n}=u.awards;console.log(r,n),m({...u,images:[e,t,a],hobbies:r,awards:n});try{let e=await l.Z.put("/api/contestents/update",u);e&&c.push("/Dashboard")}catch(e){throw e}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(d(),{children:(0,r.jsxs)("title",{children:[u.name," || Update"]})}),(0,r.jsx)(h.Z,{}),(0,r.jsx)(i.Z,{fetched:u.images}),(0,r.jsxs)("div",{className:"md:w-[70%] m-auto py-5 rounded-2xl bg-[#350200] flex flex-col justify-center items-center",children:[[{type:"text",name:"name",placeholder:"Enter Name"},{type:"number",name:"age",placeholder:"Enter Age"},{type:"text",name:"occupation",placeholder:"Occupation"},{type:"number",name:"height",placeholder:"Height"},{type:"text",name:"biography",placeholder:"Biography"},{type:"text",name:"volunteerCharityProject",placeholder:"Voluteer Charity Project"},{type:"text",name:"reasonForEnteringPageant",placeholder:"Reason for entering Pagent"},{type:"text",name:"hobbies",placeholder:"Hobbies please seprate by comma(,)"},{type:"text",name:"awards",placeholder:"Awards please seprate by comma(,)"}].map((e,t)=>{let{type:a,name:n,placeholder:s}=e;return(0,r.jsx)("input",{type:a,name:n,value:"name"===n?u.name:"age"===n?u.age:"occupation"===n?u.occupation:"height"===n?u.height:"biography"===n?u.biography:"volunteerCharityProject"===n?u.volunteerCharityProject:"reasonForEnteringPageant"===n?u.reasonForEnteringPageant:"hobbies"===n?u.hobbies:"awards"===n?u.awards:null,placeholder:s,onChange:y,className:"w-[80%] bg-slate-800 text-white px-2 my-2 border-2 border-white rounded-xl"},t)}),(0,r.jsx)("button",{onClick:j,className:"border-2 rounded-lg border-white bg-green-600 hover:opacity-80 cursor-pointer px-2 text-white",children:"Update"})]})]})};t.default=u},9008:function(e,t,a){e.exports=a(2636)},1163:function(e,t,a){e.exports=a(6885)},8357:function(e,t,a){"use strict";a.d(t,{w_:function(){return o}});var r=a(7294),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s=r.createContext&&r.createContext(n),l=function(){return(l=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};function o(e){return function(t){return r.createElement(c,l({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,a){return r.createElement(t.tag,l({key:a},t.attr),e(t.child))})}(e.child))}}function c(e){var t=function(t){var a,n=e.attr,s=e.size,o=e.title,c=i(e,["attr","size","title"]),d=s||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),r.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:a,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==s?r.createElement(s.Consumer,null,function(e){return t(e)}):t(n)}}},function(e){e.O(0,[617,470,774,888,179],function(){return e(e.s=4482)}),_N_E=e.O()}]);